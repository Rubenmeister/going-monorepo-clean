{"version":3,"file":"main.js","mappings":"mBAAA,MAAM,EAA+BA,QAAQ,SCAvC,EAA+BA,QAAQ,kBCAvC,EAA+BA,QAAQ,gBCAvC,EAA+BA,QAAQ,kBCAvC,EAA+BA,QAAQ,oBCqBtC,IAAMC,EAAN,MAAMA,iBAAAA,GAAc,kBAjB1B,IAAAC,WACA,IAAAC,QAAO,CACNC,QAAS,CACP,EAAAC,aAAaC,QAAQ,CACnBC,UAAU,EACVC,YAAa,SAEf,EAAAC,eAAeC,aAAa,CAC1BN,QAAS,CAAC,EAAAC,cACVM,WAAmBC,IAAiC,uDAClDC,IAAKD,EAAcE,IAAY,cAAgB,2C,GAEjDC,OAAQ,CAAC,EAAAC,kBAGbC,QAAS,CAAC,EAAAR,eAAgB,EAAAJ,iBAEfJ,GCrBb,MAAM,EAA+BD,QAAQ,mBCK7C,IAAYkB,GAAZ,SAAYA,GACV,sBACA,wBACA,eACD,CAJD,CAAYA,IAAAA,EAAQ,KASb,IAAMC,EAAN,MAAMA,QAIX,kBAHC,IAAAC,MAAK,CAAEC,UAAU,KACjB,IAAAC,aACA,IAAAC,e,wEAKD,kBAFC,IAAAH,MAAK,CAAEC,UAAU,KACjB,IAAAC,a,uEAKD,kBAFC,IAAAF,MAAK,CAAEC,UAAU,EAAMG,QAAQ,EAAMC,OAAO,KAC5C,IAAAC,Y,oEAKD,kBAFC,IAAAN,MAAK,CAAEO,QAAQ,KACf,IAAAL,a,2EAKD,kBAFC,IAAAF,MAAK,CAAEC,UAAU,EAAMO,KAAMV,EAAUW,QAASX,EAASY,YACzD,IAAAC,QAAOb,I,mEAIR,kBADC,IAAAE,MAAK,CAAES,SAAS,K,uEAtBNV,GAAI,kBADhB,IAAAa,QAAO,CAAEC,YAAY,KACTd,GA8Ba,EAAAe,cAAcC,eAAehB,GC5ClBnB,QAAQ,cCWtC,IAAMoC,EAAN,MAAMA,YAAAA,GAAS,kBARrB,IAAAjC,QAAO,CACNC,QAAS,CACPH,GAGFoC,YAAa,GACbC,UAAW,MAEAF,GCFb,Y,8CACE,MAAMG,QAAY,EAAAC,YAAYC,OAAOL,GAErCG,EAAIG,gBADiB,OAErB,MAAMC,EAAOC,QAAQC,IAAIC,MAAQ,WAC3BP,EAAIQ,OAAOJ,GACjB,EAAAK,OAAOC,IACL,4DAAkDN,QAEtD,E,CAEAO,E","sources":["external commonjs \"tslib\"","external commonjs \"@nestjs/common\"","external commonjs \"@nestjs/core\"","external commonjs \"@nestjs/config\"","external commonjs \"@nestjs/mongoose\"","C:\\Users\\USER1\\going-monorepo-clean\\libs\\shared\\src\\lib\\database.module.ts","external commonjs \"class-validator\"","C:\\Users\\USER1\\going-monorepo-clean\\libs\\shared\\src\\lib\\schemas\\user.schema.ts","external commonjs \"neverthrow\"","C:\\Users\\USER1\\going-monorepo-clean\\host-service\\src\\app\\app.module.ts","C:\\Users\\USER1\\going-monorepo-clean\\host-service\\src\\main.ts"],"sourcesContent":["const __WEBPACK_NAMESPACE_OBJECT__ = require(\"tslib\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@nestjs/common\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@nestjs/core\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@nestjs/config\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@nestjs/mongoose\");","import { Module, Global } from '@nestjs/common';\r\nimport { ConfigModule, ConfigService } from '@nestjs/config';\r\nimport { MongooseModule } from '@nestjs/mongoose';\r\n\r\n@Global()\r\n@Module({\r\n  imports: [\r\n    ConfigModule.forRoot({\r\n      isGlobal: true,\r\n      envFilePath: '.env',\r\n    }),\r\n    MongooseModule.forRootAsync({\r\n      imports: [ConfigModule],\r\n      useFactory: async (configService: ConfigService) => ({\r\n        uri: configService.get<string>('MONGO_URI') || 'mongodb://localhost:27017/going_monorepo',\r\n      }),\r\n      inject: [ConfigService],\r\n    }),\r\n  ],\r\n  exports: [MongooseModule, ConfigModule],\r\n})\r\nexport class DatabaseModule {}","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"class-validator\");","import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\r\nimport { Document } from 'mongoose';\r\nimport { IsEmail, IsNotEmpty, IsString, IsEnum } from 'class-validator';\r\n\r\n// Definimos los roles posibles en Going\r\nexport enum UserRole {\r\n  PASAJERO = 'PASAJERO',\r\n  CONDUCTOR = 'CONDUCTOR',\r\n  ADMIN = 'ADMIN',\r\n}\r\n\r\nexport type UserDocument = User & Document;\r\n\r\n@Schema({ timestamps: true }) // Agrega createdAt y updatedAt automÃ¡ticamente\r\nexport class User {\r\n  @Prop({ required: true })\r\n  @IsString()\r\n  @IsNotEmpty()\r\n  firstName: string;\r\n\r\n  @Prop({ required: true })\r\n  @IsString()\r\n  lastName: string;\r\n\r\n  @Prop({ required: true, unique: true, index: true })\r\n  @IsEmail()\r\n  email: string;\r\n\r\n  @Prop({ select: false }) // Por seguridad, nunca devolver la contraseÃ±a en consultas normales\r\n  @IsString()\r\n  passwordHash: string;\r\n\r\n  @Prop({ required: true, enum: UserRole, default: UserRole.PASAJERO })\r\n  @IsEnum(UserRole)\r\n  role: UserRole;\r\n\r\n  @Prop({ default: true })\r\n  isActive: boolean;\r\n  \r\n  // AquÃ­ podrÃ­as agregar campos futuros como:\r\n  // @Prop() profilePicture?: string;\r\n  // @Prop() phone?: string;\r\n}\r\n\r\nexport const UserSchema = SchemaFactory.createForClass(User);","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"neverthrow\");","import { Module } from '@nestjs/common';\nimport { DatabaseModule } from '../../../libs/shared/src';\n\n@Module({\n  imports: [\n    DatabaseModule,\n    // Aquï¿½ importarï¿½s luego los mï¿½dulos especï¿½ficos de este servicio\n  ],\n  controllers: [],\n  providers: [],\n})\nexport class AppModule {}\r\n","/**\r\n * This is not a production server yet!\r\n * This is only a minimal backend to get started.\r\n */\r\n\r\nimport { Logger } from '@nestjs/common';\r\nimport { NestFactory } from '@nestjs/core';\r\nimport { AppModule } from './app/app.module';\r\n\r\nasync function bootstrap() {\r\n  const app = await NestFactory.create(AppModule);\r\n  const globalPrefix = 'api';\r\n  app.setGlobalPrefix(globalPrefix);\r\n  const port = process.env.PORT || 3003;\r\n  await app.listen(port);\r\n  Logger.log(\r\n    `ðŸš€ Application is running on: http://localhost:${port}/${globalPrefix}`\r\n  );\r\n}\r\n\r\nbootstrap();"],"names":["require","DatabaseModule","Global","Module","imports","ConfigModule","forRoot","isGlobal","envFilePath","MongooseModule","forRootAsync","useFactory","configService","uri","get","inject","ConfigService","exports","UserRole","User","Prop","required","IsString","IsNotEmpty","unique","index","IsEmail","select","enum","default","PASAJERO","IsEnum","Schema","timestamps","SchemaFactory","createForClass","AppModule","controllers","providers","app","NestFactory","create","setGlobalPrefix","port","process","env","PORT","listen","Logger","log","bootstrap"],"ignoreList":[],"sourceRoot":""}