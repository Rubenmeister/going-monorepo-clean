(()=>{"use strict";const e=require("tslib"),o=require("@nestjs/common"),t=require("@nestjs/core"),r=require("@nestjs/config"),i=require("@nestjs/mongoose");let a=class DatabaseModule{};a=(0,e.__decorate)([(0,o.Global)(),(0,o.Module)({imports:[r.ConfigModule.forRoot({isGlobal:!0,envFilePath:".env"}),i.MongooseModule.forRootAsync({imports:[r.ConfigModule],useFactory:o=>(0,e.__awaiter)(void 0,void 0,void 0,function*(){return{uri:o.get("MONGO_URI")||"mongodb://localhost:27017/going_monorepo"}}),inject:[r.ConfigService]})],exports:[i.MongooseModule,r.ConfigModule]})],a);const s=require("class-validator");var n;!function(e){e.PASAJERO="PASAJERO",e.CONDUCTOR="CONDUCTOR",e.ADMIN="ADMIN"}(n||(n={}));let d=class User{};(0,e.__decorate)([(0,i.Prop)({required:!0}),(0,s.IsString)(),(0,s.IsNotEmpty)(),(0,e.__metadata)("design:type",String)],d.prototype,"firstName",void 0),(0,e.__decorate)([(0,i.Prop)({required:!0}),(0,s.IsString)(),(0,e.__metadata)("design:type",String)],d.prototype,"lastName",void 0),(0,e.__decorate)([(0,i.Prop)({required:!0,unique:!0,index:!0}),(0,s.IsEmail)(),(0,e.__metadata)("design:type",String)],d.prototype,"email",void 0),(0,e.__decorate)([(0,i.Prop)({select:!1}),(0,s.IsString)(),(0,e.__metadata)("design:type",String)],d.prototype,"passwordHash",void 0),(0,e.__decorate)([(0,i.Prop)({required:!0,enum:n,default:n.PASAJERO}),(0,s.IsEnum)(n),(0,e.__metadata)("design:type",String)],d.prototype,"role",void 0),(0,e.__decorate)([(0,i.Prop)({default:!0}),(0,e.__metadata)("design:type",Boolean)],d.prototype,"isActive",void 0),d=(0,e.__decorate)([(0,i.Schema)({timestamps:!0})],d);i.SchemaFactory.createForClass(d),require("neverthrow");let l=class AppModule{};l=(0,e.__decorate)([(0,o.Module)({imports:[a],controllers:[],providers:[]})],l),function(){(0,e.__awaiter)(this,void 0,void 0,function*(){const e=yield t.NestFactory.create(l);e.setGlobalPrefix("api");const r=process.env.PORT||3e3;yield e.listen(r),o.Logger.log(`\ud83d\ude80 Application is running on: http://localhost:${r}/api`)})}()})();
//# sourceMappingURL=main.js.map